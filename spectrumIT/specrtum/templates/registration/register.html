{% extends "base.html" %}

{% load static %}
{% load widget_tweaks %}

{% block head %}
<link rel="stylesheet" href="{% static 'core/css/register.css' %}">
{% endblock %}

{% block content %}
<!-- Абстрактные фигуры на фоне -->
<div class="abstract-shape shape1"></div>
<div class="abstract-shape shape2"></div>
<div class="abstract-shape shape3"></div>

<!-- Основной контейнер формы -->
<div class="registration-container">
    <div class="registration-header">
        <h1>Присоединяйтесь к нам</h1>
        <p>Начните свой путь к новым знакомствам</p>
    </div>
    
    <div class="registration-body">
        <form id="registrationForm" method="post">
            {% csrf_token %}

            <div class="form-group">
                <label class="form-label">{{ form.username.label_tag }}</label>
                {{ form.username|attr:"placeholder:Придумайте логин"|add_class:"form-input" }}
            </div>

            <div class="form-group">
                <label class="form-label">{{ form.first_name.label_tag }}</label>
                {{ form.first_name|attr:"placeholder:Введите своё имя"|add_class:"form-input"}}
            </div>

            <div class="form-group">
                <label class="form-label">{{ form.last_name.label_tag }}</label>
                {{ form.last_name|attr:"placeholder:Введите свою фамилию"|add_class:"form-input" }}
            </div>
            
            <div class="form-group">
                <label class="form-label">{{ form.password1.label_tag }}</label>
                {{ form.password1|attr:"placeholder:Не менее 6 символов"|add_class:"form-input" }}
            </div>

            <div class="form-group">
                <label class="form-label">{{ form.password2.label_tag }}</label>
                {{ form.password2|attr:"placeholder:Повторите пароль"|add_class:"form-input" }}
            </div>
            
            <div class="form-group">
                <label class="form-label">{{ form.gender.label_tag }}</label>
                {{ form.gender|add_class:"form-input"|attr:"id:gender-options" }}
                <div class="gender-options">
                    <label class="gender-option">
                        <input type="radio" name="gender" value="male" required> Мужской
                    </label>
                    <label class="gender-option">
                        <input type="radio" name="gender" value="female"> Женский
                    </label>
                    <label class="gender-option">
                        <input type="radio" name="gender" value="other"> Другой
                    </label>
                </div>
            </div>
            
            <div class="form-group">
                <label for="birthdate" class="form-label">{{ form.birthdate.label_tag }}</label>
                {{ form.birthdate|add_class:"form-input" }}
            </div>
            
            <div class="terms-checkbox">
                <input type="checkbox" id="terms" required>
                <label for="terms" class="terms-text">
                    Я согласен с <a href="#">условиями использования</a> и подтверждаю, что мне исполнилось 18 лет
                </label>
            </div>
            
            <button type="submit" class="submit-btn">Зарегистрироваться</button>
            
            <div class="login-link">
                Уже есть аккаунт? <a href="{% url 'login' %}">Войти</a>
            </div>
        </form>
    </div>
</div>

<script>
document.addEventListener('DOMContentLoaded', function() {
    const genderOptionsContainer = document.querySelector('#gender-options');

    Array.from(genderOptionsContainer.options).forEach(option => {
        const label = document.createElement('label');
        label.classList.add('gender-option');

        option.insertAdjacentElement('beforebegin', label);

        label.appendChild(option);
    })

})
</script>
{% endblock %}